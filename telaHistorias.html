<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Categoria</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="header.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
    integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

  <header>
    <a href="dici.html" class="voltar">
      <i class="fa fa-arrow-left"></i> Voltar
    </a>
    <div class="search-container">
      <input type="text" id="busca" oninput="buscar()" placeholder="Pesquise uma palavra" />
      <i class="fa fa-search"></i>
    </div>
  </header>

  <main>
    <h2 id="titulo-categoria"></h2>
    <div id="resultados"></div>

    <section class="grid-videos">



    </section>
  </main>



  <script src="script.js"></script>
  <script>
    const videos = [
      {
        "numero": 1,
        "nome": "BOLA DE CRISTAL",
        "imagem": "https://drive.google.com/file/d/1x8p9Fn8J8-0N0cgeAhm7ZXwk90xnvwKc/view?usp=drive_link",
        "link": "https://youtu.be/DDAYswSvld8?si=EmWJtQOVT0yuyFy-",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 2,
        "nome": "BRUXA",
        "imagem": "https://drive.google.com/file/d/1fZ6cI98wQKTnLFV1J-F1xQD5giqGzvUZ/view?usp=drive_link",
        "link": "https:www.youtu.be\/S41NcRJzzb8",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 3,
        "nome": "BRUXO",
        "link": "https:www.youtu.be\/Jb9g17DVkyE",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 4,
        "nome": "CASTELO",
        "imagem": "https://drive.google.com/file/d/1c4vD2MbNAKkrnp2qv0WRuJUeQRAmWraC/view?usp=drive_link",
        "link": "https://youtu.be/PwcJpjCFvtk?si=Tq99ZuL6ik16LNGa",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 5,
        "nome": "DRAGÃO",
        "imagem": "https://drive.google.com/file/d/1R0_dwBY4XV0bqogwL1lbcYVdKmz_rkcy/view?usp=drive_link",
        "link": "https://youtu.be/yJ-ZTpXC85A?si=ebuqmR_0fHzKnEoE",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 6,
        "nome": "ESPADA",
        "link": "https://youtu.be/z-8gc7Rbqnw?si=5SxhFSGCH-1-fbOv",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 7,
        "nome": "FANTASMA",
        "imagem": "https://drive.google.com/file/d/1JznuAPTyKcMobZFgCKiFG0a2E4nnjcLn/view?usp=drive_link",
        "link": "https://youtu.be/i086G3odYM0?si=FEuO5khBDb4UXKV6",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 8,
        "nome": "LOBO MAU",
        "imagem": "https://drive.google.com/file/d/1pKoZkLG8vzpDBGx-r2GTMkCbfrKYcxtj/view?usp=drive_link",
        "link": "https://youtu.be/r3f8xhgaAvg?si=JXKfi2lrBy2zUJdY",
        "categoria": "HISTORIAS"
      },
      {
        "numero": 9,
        "nome": "MÁGICO",
        "imagem": "https://drive.google.com/file/d/1uZ3mFgEF4nNDa2-PawcEO2ZIAz_ohEsi/view?usp=drive_link",
        "link": "https://youtu.be/RRQKTx5Ixu4?si=PJw05yE99zXn4WZ1",
        "categoria": "HISTORIAS"
      },
    ];

    function criarVideos() {
      const container = document.querySelector(".grid-videos");
      console.log(container);

      videos.forEach(video => {
        // extrair ID do vídeo (último pedaço do link)
        const videoId = video.link.split("\/").pop();
        console.log(videoId);

        // criar div principal
        const div = document.createElement("div");
        div.className = "grid-videos-item";

        // criar título
        const h2 = document.createElement("h2");
        h2.textContent = ` ${video.nome}`;

        videoImagemLink = `${video.imagem.replace("https://drive.google.com/file/d/", "").replace("/view?usp=drive_link", "")}`

        console.log(videoImagemLink);


        const img = document.createElement("img");


        // criar iframe
        const iframe = document.createElement("iframe");
        iframe.width = "560";
        iframe.height = "315";
        iframe.src = `https://www.youtube.com/embed/${videoId}`;
        iframe.title = "YouTube video player";
        iframe.frameBorder = "0";
        iframe.allow =
          "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share";
        iframe.referrerPolicy = "strict-origin-when-cross-origin";
        iframe.allowFullscreen = true;

        // montar estrutura
        // montar estrutura
        div.appendChild(h2);
        div.appendChild(img);
        div.appendChild(iframe);

        img.src = `https://drive.google.com/thumbnail?id=${videoImagemLink}`

        container.appendChild(div);

      });
    }

    // chamar função ao carregar
    criarVideos();
  </script>

</body>